"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/rates/compose.ts":
/*!**********************************!*\
  !*** ./src/lib/rates/compose.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   composeRates: function() { return /* binding */ composeRates; },\n/* harmony export */   computeCrossRate: function() { return /* binding */ computeCrossRate; },\n/* harmony export */   convert: function() { return /* binding */ convert; },\n/* harmony export */   createRateKey: function() { return /* binding */ createRateKey; },\n/* harmony export */   getInverseRate: function() { return /* binding */ getInverseRate; },\n/* harmony export */   roundToSignificantDigits: function() { return /* binding */ roundToSignificantDigits; }\n/* harmony export */ });\n/* harmony import */ var _providers_bcv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./providers/bcv */ \"(app-pages-browser)/./src/lib/rates/providers/bcv.ts\");\n/* harmony import */ var _providers_frankfurter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./providers/frankfurter */ \"(app-pages-browser)/./src/lib/rates/providers/frankfurter.ts\");\n/* harmony import */ var _providers_publicFx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./providers/publicFx */ \"(app-pages-browser)/./src/lib/rates/providers/publicFx.ts\");\n/* harmony import */ var _providers_alternativeVes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./providers/alternativeVes */ \"(app-pages-browser)/./src/lib/rates/providers/alternativeVes.ts\");\n/* harmony import */ var _providers_colombianPeso__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./providers/colombianPeso */ \"(app-pages-browser)/./src/lib/rates/providers/colombianPeso.ts\");\n\n\n\n\n\nfunction createRateKey(base, quote) {\n    return \"\".concat(base, \"-\").concat(quote);\n}\nfunction getInverseRate(rate) {\n    return {\n        base: rate.quote,\n        quote: rate.base,\n        value: 1 / rate.value,\n        provider: rate.provider,\n        at: rate.at\n    };\n}\nfunction roundToSignificantDigits(value) {\n    let digits = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 6;\n    if (value === 0) return 0;\n    const magnitude = Math.floor(Math.log10(Math.abs(value)));\n    const factor = Math.pow(10, digits - 1 - magnitude);\n    return Math.round(value * factor) / factor;\n}\nfunction computeCrossRate(rate1, rate2, targetBase, targetQuote) {\n    // Check if we can compute the cross rate\n    if (rate1.quote !== rate2.base) {\n        return null;\n    }\n    const crossValue = rate1.value * rate2.value;\n    const roundedValue = roundToSignificantDigits(crossValue);\n    return {\n        base: targetBase,\n        quote: targetQuote,\n        value: roundedValue,\n        provider: \"\".concat(rate1.provider, \"+\").concat(rate2.provider),\n        at: new Date().toISOString()\n    };\n}\nasync function composeRates() {\n    const allRates = {};\n    const providerNotes = [];\n    // Fetch from all providers in parallel\n    const [bcvResult, frankfurterResult, publicFxResult, alternativeVesResult, colombianPesoResult] = await Promise.allSettled([\n        (0,_providers_bcv__WEBPACK_IMPORTED_MODULE_0__.getBCVRates)(),\n        (0,_providers_frankfurter__WEBPACK_IMPORTED_MODULE_1__.getFrankfurterRates)(),\n        (0,_providers_publicFx__WEBPACK_IMPORTED_MODULE_2__.getPublicFxRates)(),\n        (0,_providers_alternativeVes__WEBPACK_IMPORTED_MODULE_3__.getAlternativeVESRates)(),\n        (0,_providers_colombianPeso__WEBPACK_IMPORTED_MODULE_4__.getColombianPesoRates)()\n    ]);\n    // Process BCV results\n    if (bcvResult.status === \"fulfilled\" && bcvResult.value.success) {\n        Object.assign(allRates, bcvResult.value.rates);\n        providerNotes.push(\"BCV: \".concat(Object.keys(bcvResult.value.rates).length, \" rates\"));\n    } else {\n        var _bcvResult_reason, _bcvResult_value;\n        const error = bcvResult.status === \"rejected\" ? (_bcvResult_reason = bcvResult.reason) === null || _bcvResult_reason === void 0 ? void 0 : _bcvResult_reason.message : (_bcvResult_value = bcvResult.value) === null || _bcvResult_value === void 0 ? void 0 : _bcvResult_value.error;\n        providerNotes.push(\"BCV: Failed (\".concat(error, \")\"));\n    }\n    // Process Frankfurter results\n    if (frankfurterResult.status === \"fulfilled\" && frankfurterResult.value.success) {\n        Object.assign(allRates, frankfurterResult.value.rates);\n        providerNotes.push(\"Frankfurter: \".concat(Object.keys(frankfurterResult.value.rates).length, \" rates\"));\n    } else {\n        var _frankfurterResult_reason, _frankfurterResult_value;\n        const error = frankfurterResult.status === \"rejected\" ? (_frankfurterResult_reason = frankfurterResult.reason) === null || _frankfurterResult_reason === void 0 ? void 0 : _frankfurterResult_reason.message : (_frankfurterResult_value = frankfurterResult.value) === null || _frankfurterResult_value === void 0 ? void 0 : _frankfurterResult_value.error;\n        providerNotes.push(\"Frankfurter: Failed (\".concat(error, \")\"));\n    }\n    // Process Public FX results\n    if (publicFxResult.status === \"fulfilled\" && publicFxResult.value.success) {\n        Object.assign(allRates, publicFxResult.value.rates);\n        providerNotes.push(\"PublicFX: \".concat(Object.keys(publicFxResult.value.rates).length, \" rates\"));\n    } else {\n        var _publicFxResult_reason, _publicFxResult_value;\n        const error = publicFxResult.status === \"rejected\" ? (_publicFxResult_reason = publicFxResult.reason) === null || _publicFxResult_reason === void 0 ? void 0 : _publicFxResult_reason.message : (_publicFxResult_value = publicFxResult.value) === null || _publicFxResult_value === void 0 ? void 0 : _publicFxResult_value.error;\n        providerNotes.push(\"PublicFX: Failed (\".concat(error, \")\"));\n    }\n    // Process Alternative VES results\n    if (alternativeVesResult.status === \"fulfilled\" && alternativeVesResult.value.success) {\n        Object.assign(allRates, alternativeVesResult.value.rates);\n        providerNotes.push(\"Alternative-VES: \".concat(Object.keys(alternativeVesResult.value.rates).length, \" rates\"));\n    } else {\n        var _alternativeVesResult_reason, _alternativeVesResult_value;\n        const error = alternativeVesResult.status === \"rejected\" ? (_alternativeVesResult_reason = alternativeVesResult.reason) === null || _alternativeVesResult_reason === void 0 ? void 0 : _alternativeVesResult_reason.message : (_alternativeVesResult_value = alternativeVesResult.value) === null || _alternativeVesResult_value === void 0 ? void 0 : _alternativeVesResult_value.error;\n        providerNotes.push(\"Alternative-VES: Failed (\".concat(error, \")\"));\n    }\n    // Process Colombian Peso results\n    if (colombianPesoResult.status === \"fulfilled\" && colombianPesoResult.value.success) {\n        Object.assign(allRates, colombianPesoResult.value.rates);\n        providerNotes.push(\"Colombian-Peso: \".concat(Object.keys(colombianPesoResult.value.rates).length, \" rates\"));\n    } else {\n        var _colombianPesoResult_reason, _colombianPesoResult_value;\n        const error = colombianPesoResult.status === \"rejected\" ? (_colombianPesoResult_reason = colombianPesoResult.reason) === null || _colombianPesoResult_reason === void 0 ? void 0 : _colombianPesoResult_reason.message : (_colombianPesoResult_value = colombianPesoResult.value) === null || _colombianPesoResult_value === void 0 ? void 0 : _colombianPesoResult_value.error;\n        providerNotes.push(\"Colombian-Peso: Failed (\".concat(error, \")\"));\n    }\n    // Add inverse rates for all direct rates\n    const directRates = {\n        ...allRates\n    };\n    for (const [key, rate] of Object.entries(directRates)){\n        const inverseKey = createRateKey(rate.quote, rate.base);\n        if (!allRates[inverseKey]) {\n            allRates[inverseKey] = getInverseRate(rate);\n        }\n    }\n    // Ensure we always have essential rates\n    const essentialRates = [\n        \"USD-VES\",\n        \"USD-COP\",\n        \"EUR-USD\"\n    ];\n    const missingEssential = essentialRates.filter((rate)=>!allRates[rate]);\n    if (missingEssential.length > 0) {\n        providerNotes.push(\"Adding fallback rates for: \".concat(missingEssential.join(\", \")));\n    }\n    // Add fallback rates if we have very few rates\n    if (Object.keys(allRates).length < 4) {\n        providerNotes.push(\"Using fallback rates due to limited data\");\n        // Add some reasonable fallback rates for testing\n        if (!allRates[\"USD-VES\"]) {\n            allRates[\"USD-VES\"] = {\n                base: \"USD\",\n                quote: \"VES\",\n                value: 195.0,\n                provider: \"Fallback\",\n                at: new Date().toISOString()\n            };\n            allRates[\"VES-USD\"] = getInverseRate(allRates[\"USD-VES\"]);\n        }\n        if (!allRates[\"USD-COP\"]) {\n            allRates[\"USD-COP\"] = {\n                base: \"USD\",\n                quote: \"COP\",\n                value: 4200.0,\n                provider: \"Fallback\",\n                at: new Date().toISOString()\n            };\n            allRates[\"COP-USD\"] = getInverseRate(allRates[\"USD-COP\"]);\n        }\n        if (!allRates[\"EUR-USD\"]) {\n            allRates[\"EUR-USD\"] = {\n                base: \"EUR\",\n                quote: \"USD\",\n                value: 1.08,\n                provider: \"Fallback\",\n                at: new Date().toISOString()\n            };\n            allRates[\"USD-EUR\"] = getInverseRate(allRates[\"EUR-USD\"]);\n        }\n    }\n    // Compute cross rates for missing pairs\n    const requiredPairs = [\n        \"COP-VES\",\n        \"VES-COP\"\n    ];\n    for (const pair of requiredPairs){\n        if (!allRates[pair]) {\n            const [base, quote] = pair.split(\"-\");\n            // Try COP-VES via COP-USD and USD-VES\n            if (base === \"COP\" && quote === \"VES\") {\n                const copUsd = allRates[\"COP-USD\"];\n                const usdVes = allRates[\"USD-VES\"];\n                if (copUsd && usdVes) {\n                    const crossRate = computeCrossRate(copUsd, usdVes, \"COP\", \"VES\");\n                    if (crossRate) {\n                        allRates[\"COP-VES\"] = crossRate;\n                        allRates[\"VES-COP\"] = getInverseRate(crossRate);\n                        providerNotes.push(\"COP-VES: Computed via COP-USD \\xd7 USD-VES\");\n                    }\n                }\n            }\n        }\n    }\n    // Ensure EUR cross pairs exist for display\n    if (!allRates[\"EUR-VES\"]) {\n        const eurUsd = allRates[\"EUR-USD\"];\n        const usdVes = allRates[\"USD-VES\"];\n        if (eurUsd && usdVes) {\n            const crossRate = computeCrossRate(eurUsd, usdVes, \"EUR\", \"VES\");\n            if (crossRate) {\n                allRates[\"EUR-VES\"] = crossRate;\n                allRates[\"VES-EUR\"] = getInverseRate(crossRate);\n                providerNotes.push(\"EUR-VES: Computed via EUR-USD \\xd7 USD-VES\");\n            }\n        }\n    }\n    if (!allRates[\"EUR-COP\"]) {\n        const eurUsd = allRates[\"EUR-USD\"];\n        const usdCop = allRates[\"USD-COP\"];\n        if (eurUsd && usdCop) {\n            const crossRate = computeCrossRate(eurUsd, usdCop, \"EUR\", \"COP\");\n            if (crossRate) {\n                allRates[\"EUR-COP\"] = crossRate;\n                allRates[\"COP-EUR\"] = getInverseRate(crossRate);\n                providerNotes.push(\"EUR-COP: Computed via EUR-USD \\xd7 USD-COP\");\n            }\n        }\n    }\n    return allRates;\n}\nfunction convert(amount, from, to, rates) {\n    if (from === to) return amount;\n    const directKey = createRateKey(from, to);\n    const directRate = rates[directKey];\n    if (directRate) {\n        return roundToSignificantDigits(amount * directRate.value, 8);\n    }\n    // Try cross conversion via USD (most reliable base currency)\n    const fromUsdKey = createRateKey(from, \"USD\");\n    const usdToKey = createRateKey(\"USD\", to);\n    if (rates[fromUsdKey] && rates[usdToKey]) {\n        const viaUsd = amount * rates[fromUsdKey].value * rates[usdToKey].value;\n        return roundToSignificantDigits(viaUsd, 8);\n    }\n    // Try cross conversion via EUR\n    const fromEurKey = createRateKey(from, \"EUR\");\n    const eurToKey = createRateKey(\"EUR\", to);\n    if (rates[fromEurKey] && rates[eurToKey]) {\n        const viaEur = amount * rates[fromEurKey].value * rates[eurToKey].value;\n        return roundToSignificantDigits(viaEur, 8);\n    }\n    // Try cross conversion via COP (for VES-COP specifically)\n    if (from === \"VES\" && to === \"COP\") {\n        const vesUsdKey = createRateKey(\"VES\", \"USD\");\n        const usdCopKey = createRateKey(\"USD\", \"COP\");\n        if (rates[vesUsdKey] && rates[usdCopKey]) {\n            const viaUsd = amount * rates[vesUsdKey].value * rates[usdCopKey].value;\n            return roundToSignificantDigits(viaUsd, 8);\n        }\n    }\n    if (from === \"COP\" && to === \"VES\") {\n        const copUsdKey = createRateKey(\"COP\", \"USD\");\n        const usdVesKey = createRateKey(\"USD\", \"VES\");\n        if (rates[copUsdKey] && rates[usdVesKey]) {\n            const viaUsd = amount * rates[copUsdKey].value * rates[usdVesKey].value;\n            return roundToSignificantDigits(viaUsd, 8);\n        }\n    }\n    // Try multi-hop conversion: VES -> USD -> EUR -> Target\n    if (from === \"VES\" && (to === \"EUR\" || to === \"COP\")) {\n        const vesUsdKey = createRateKey(\"VES\", \"USD\");\n        const usdEurKey = createRateKey(\"USD\", \"EUR\");\n        const eurTargetKey = createRateKey(\"EUR\", to);\n        if (rates[vesUsdKey] && rates[usdEurKey] && rates[eurTargetKey]) {\n            const viaUsdEur = amount * rates[vesUsdKey].value * rates[usdEurKey].value * rates[eurTargetKey].value;\n            return roundToSignificantDigits(viaUsdEur, 8);\n        }\n    }\n    return null;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcmF0ZXMvY29tcG9zZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUM2QztBQUNnQjtBQUNOO0FBQ1k7QUFDRjtBQUUxRCxTQUFTSyxjQUFjQyxJQUFjLEVBQUVDLEtBQWU7SUFDM0QsT0FBTyxHQUFXQSxPQUFSRCxNQUFLLEtBQVMsT0FBTkM7QUFDcEI7QUFFTyxTQUFTQyxlQUFlQyxJQUFVO0lBQ3ZDLE9BQU87UUFDTEgsTUFBTUcsS0FBS0YsS0FBSztRQUNoQkEsT0FBT0UsS0FBS0gsSUFBSTtRQUNoQkksT0FBTyxJQUFJRCxLQUFLQyxLQUFLO1FBQ3JCQyxVQUFVRixLQUFLRSxRQUFRO1FBQ3ZCQyxJQUFJSCxLQUFLRyxFQUFFO0lBQ2I7QUFDRjtBQUVPLFNBQVNDLHlCQUF5QkgsS0FBYTtRQUFFSSxTQUFBQSxpRUFBaUI7SUFDdkUsSUFBSUosVUFBVSxHQUFHLE9BQU87SUFDeEIsTUFBTUssWUFBWUMsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxLQUFLLENBQUNGLEtBQUtHLEdBQUcsQ0FBQ1Q7SUFDakQsTUFBTVUsU0FBU0osS0FBS0ssR0FBRyxDQUFDLElBQUlQLFNBQVMsSUFBSUM7SUFDekMsT0FBT0MsS0FBS00sS0FBSyxDQUFDWixRQUFRVSxVQUFVQTtBQUN0QztBQUVPLFNBQVNHLGlCQUNkQyxLQUFXLEVBQ1hDLEtBQVcsRUFDWEMsVUFBb0IsRUFDcEJDLFdBQXFCO0lBRXJCLHlDQUF5QztJQUN6QyxJQUFJSCxNQUFNakIsS0FBSyxLQUFLa0IsTUFBTW5CLElBQUksRUFBRTtRQUM5QixPQUFPO0lBQ1Q7SUFFQSxNQUFNc0IsYUFBYUosTUFBTWQsS0FBSyxHQUFHZSxNQUFNZixLQUFLO0lBQzVDLE1BQU1tQixlQUFlaEIseUJBQXlCZTtJQUU5QyxPQUFPO1FBQ0x0QixNQUFNb0I7UUFDTm5CLE9BQU9vQjtRQUNQakIsT0FBT21CO1FBQ1BsQixVQUFVLEdBQXFCYyxPQUFsQkQsTUFBTWIs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QWMsT0FBT21FO1FBRTFDLElBQUkxQixLQUFLLENBQUNtQyxVQUFVLElBQUluQyxLQUFLLENBQUN1QyxVQUFVLElBQUl2QyxLQUFLLENBQUN3QyxhQUFhLEVBQUU7WUFDL0QsTUFBTUMsWUFBWWpCLFNBQVN4QixLQUFLLENBQUNtQyxVQUFVLENBQUN2RSxLQUFLLEdBQUdvQyxLQUFLLENBQUN1QyxVQUFVLENBQUMzRSxLQUFLLEdBQUdvQyxLQUFLLENBQUN3QyxhQUFhLENBQUM1RSxLQUFLO1lBQ3RHLE9BQU9HLHlCQUF5QjBFLFdBQVc7UUFDN0M7SUFDRjtJQUVBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL3JhdGVzL2NvbXBvc2UudHM/NGM5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDdXJyZW5jeSwgUmF0ZSwgUmF0ZXNCdW5kbGUgfSBmcm9tICcuL3R5cGVzJ1xyXG5pbXBvcnQgeyBnZXRCQ1ZSYXRlcyB9IGZyb20gJy4vcHJvdmlkZXJzL2JjdidcclxuaW1wb3J0IHsgZ2V0RnJhbmtmdXJ0ZXJSYXRlcyB9IGZyb20gJy4vcHJvdmlkZXJzL2ZyYW5rZnVydGVyJ1xyXG5pbXBvcnQgeyBnZXRQdWJsaWNGeFJhdGVzIH0gZnJvbSAnLi9wcm92aWRlcnMvcHVibGljRngnXHJcbmltcG9ydCB7IGdldEFsdGVybmF0aXZlVkVTUmF0ZXMgfSBmcm9tICcuL3Byb3ZpZGVycy9hbHRlcm5hdGl2ZVZlcydcclxuaW1wb3J0IHsgZ2V0Q29sb21iaWFuUGVzb1JhdGVzIH0gZnJvbSAnLi9wcm92aWRlcnMvY29sb21iaWFuUGVzbydcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSYXRlS2V5KGJhc2U6IEN1cnJlbmN5LCBxdW90ZTogQ3VycmVuY3kpOiBzdHJpbmcge1xyXG4gIHJldHVybiBgJHtiYXNlfS0ke3F1b3RlfWBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEludmVyc2VSYXRlKHJhdGU6IFJhdGUpOiBSYXRlIHtcclxuICByZXR1cm4ge1xyXG4gICAgYmFzZTogcmF0ZS5xdW90ZSxcclxuICAgIHF1b3RlOiByYXRlLmJhc2UsXHJcbiAgICB2YWx1ZTogMSAvIHJhdGUudmFsdWUsXHJcbiAgICBwcm92aWRlcjogcmF0ZS5wcm92aWRlcixcclxuICAgIGF0OiByYXRlLmF0XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm91bmRUb1NpZ25pZmljYW50RGlnaXRzKHZhbHVlOiBudW1iZXIsIGRpZ2l0czogbnVtYmVyID0gNik6IG51bWJlciB7XHJcbiAgaWYgKHZhbHVlID09PSAwKSByZXR1cm4gMFxyXG4gIGNvbnN0IG1hZ25pdHVkZSA9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChNYXRoLmFicyh2YWx1ZSkpKVxyXG4gIGNvbnN0IGZhY3RvciA9IE1hdGgucG93KDEwLCBkaWdpdHMgLSAxIC0gbWFnbml0dWRlKVxyXG4gIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogZmFjdG9yKSAvIGZhY3RvclxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUNyb3NzUmF0ZShcclxuICByYXRlMTogUmF0ZSxcclxuICByYXRlMjogUmF0ZSxcclxuICB0YXJnZXRCYXNlOiBDdXJyZW5jeSxcclxuICB0YXJnZXRRdW90ZTogQ3VycmVuY3lcclxuKTogUmF0ZSB8IG51bGwge1xyXG4gIC8vIENoZWNrIGlmIHdlIGNhbiBjb21wdXRlIHRoZSBjcm9zcyByYXRlXHJcbiAgaWYgKHJhdGUxLnF1b3RlICE9PSByYXRlMi5iYXNlKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuICBcclxuICBjb25zdCBjcm9zc1ZhbHVlID0gcmF0ZTEudmFsdWUgKiByYXRlMi52YWx1ZVxyXG4gIGNvbnN0IHJvdW5kZWRWYWx1ZSA9IHJvdW5kVG9TaWduaWZpY2FudERpZ2l0cyhjcm9zc1ZhbHVlKVxyXG4gIFxyXG4gIHJldHVybiB7XHJcbiAgICBiYXNlOiB0YXJnZXRCYXNlLFxyXG4gICAgcXVvdGU6IHRhcmdldFF1b3RlLFxyXG4gICAgdmFsdWU6IHJvdW5kZWRWYWx1ZSxcclxuICAgIHByb3ZpZGVyOiBgJHtyYXRlMS5wcm92aWRlcn0rJHtyYXRlMi5wcm92aWRlcn1gLFxyXG4gICAgYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBvc2VSYXRlcygpOiBQcm9taXNlPFJhdGVzQnVuZGxlPiB7XHJcbiAgY29uc3QgYWxsUmF0ZXM6IFJhdGVzQnVuZGxlID0ge31cclxuICBjb25zdCBwcm92aWRlck5vdGVzOiBzdHJpbmdbXSA9IFtdXHJcbiAgXHJcbiAgLy8gRmV0Y2ggZnJvbSBhbGwgcHJvdmlkZXJzIGluIHBhcmFsbGVsXHJcbiAgY29uc3QgW2JjdlJlc3VsdCwgZnJhbmtmdXJ0ZXJSZXN1bHQsIHB1YmxpY0Z4UmVzdWx0LCBhbHRlcm5hdGl2ZVZlc1Jlc3VsdCwgY29sb21iaWFuUGVzb1Jlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xyXG4gICAgZ2V0QkNWUmF0ZXMoKSxcclxuICAgIGdldEZyYW5rZnVydGVyUmF0ZXMoKSxcclxuICAgIGdldFB1YmxpY0Z4UmF0ZXMoKSxcclxuICAgIGdldEFsdGVybmF0aXZlVkVTUmF0ZXMoKSxcclxuICAgIGdldENvbG9tYmlhblBlc29SYXRlcygpXHJcbiAgXSlcclxuICBcclxuICAvLyBQcm9jZXNzIEJDViByZXN1bHRzXHJcbiAgaWYgKGJjdlJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIGJjdlJlc3VsdC52YWx1ZS5zdWNjZXNzKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKGFsbFJhdGVzLCBiY3ZSZXN1bHQudmFsdWUucmF0ZXMpXHJcbiAgICBwcm92aWRlck5vdGVzLnB1c2goYEJDVjogJHtPYmplY3Qua2V5cyhiY3ZSZXN1bHQudmFsdWUucmF0ZXMpLmxlbmd0aH0gcmF0ZXNgKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBlcnJvciA9IGJjdlJlc3VsdC5zdGF0dXMgPT09ICdyZWplY3RlZCcgPyBiY3ZSZXN1bHQucmVhc29uPy5tZXNzYWdlIDogYmN2UmVzdWx0LnZhbHVlPy5lcnJvclxyXG4gICAgcHJvdmlkZXJOb3Rlcy5wdXNoKGBCQ1Y6IEZhaWxlZCAoJHtlcnJvcn0pYClcclxuICB9XHJcbiAgXHJcbiAgLy8gUHJvY2VzcyBGcmFua2Z1cnRlciByZXN1bHRzXHJcbiAgaWYgKGZyYW5rZnVydGVyUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgZnJhbmtmdXJ0ZXJSZXN1bHQudmFsdWUuc3VjY2Vzcykge1xyXG4gICAgT2JqZWN0LmFzc2lnbihhbGxSYXRlcywgZnJhbmtmdXJ0ZXJSZXN1bHQudmFsdWUucmF0ZXMpXHJcbiAgICBwcm92aWRlck5vdGVzLnB1c2goYEZyYW5rZnVydGVyOiAke09iamVjdC5rZXlzKGZyYW5rZnVydGVyUmVzdWx0LnZhbHVlLnJhdGVzKS5sZW5ndGh9IHJhdGVzYClcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSBmcmFua2Z1cnRlclJlc3VsdC5zdGF0dXMgPT09ICdyZWplY3RlZCcgPyBmcmFua2Z1cnRlclJlc3VsdC5yZWFzb24/Lm1lc3NhZ2UgOiBmcmFua2Z1cnRlclJlc3VsdC52YWx1ZT8uZXJyb3JcclxuICAgIHByb3ZpZGVyTm90ZXMucHVzaChgRnJhbmtmdXJ0ZXI6IEZhaWxlZCAoJHtlcnJvcn0pYClcclxuICB9XHJcbiAgXHJcbiAgLy8gUHJvY2VzcyBQdWJsaWMgRlggcmVzdWx0c1xyXG4gIGlmIChwdWJsaWNGeFJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnICYmIHB1YmxpY0Z4UmVzdWx0LnZhbHVlLnN1Y2Nlc3MpIHtcclxuICAgIE9iamVjdC5hc3NpZ24oYWxsUmF0ZXMsIHB1YmxpY0Z4UmVzdWx0LnZhbHVlLnJhdGVzKVxyXG4gICAgcHJvdmlkZXJOb3Rlcy5wdXNoKGBQdWJsaWNGWDogJHtPYmplY3Qua2V5cyhwdWJsaWNGeFJlc3VsdC52YWx1ZS5yYXRlcykubGVuZ3RofSByYXRlc2ApXHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGVycm9yID0gcHVibGljRnhSZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnID8gcHVibGljRnhSZXN1bHQucmVhc29uPy5tZXNzYWdlIDogcHVibGljRnhSZXN1bHQudmFsdWU/LmVycm9yXHJcbiAgICBwcm92aWRlck5vdGVzLnB1c2goYFB1YmxpY0ZYOiBGYWlsZWQgKCR7ZXJyb3J9KWApXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFByb2Nlc3MgQWx0ZXJuYXRpdmUgVkVTIHJlc3VsdHNcclxuICBpZiAoYWx0ZXJuYXRpdmVWZXNSZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiBhbHRlcm5hdGl2ZVZlc1Jlc3VsdC52YWx1ZS5zdWNjZXNzKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKGFsbFJhdGVzLCBhbHRlcm5hdGl2ZVZlc1Jlc3VsdC52YWx1ZS5yYXRlcylcclxuICAgIHByb3ZpZGVyTm90ZXMucHVzaChgQWx0ZXJuYXRpdmUtVkVTOiAke09iamVjdC5rZXlzKGFsdGVybmF0aXZlVmVzUmVzdWx0LnZhbHVlLnJhdGVzKS5sZW5ndGh9IHJhdGVzYClcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSBhbHRlcm5hdGl2ZVZlc1Jlc3VsdC5zdGF0dXMgPT09ICdyZWplY3RlZCcgPyBhbHRlcm5hdGl2ZVZlc1Jlc3VsdC5yZWFzb24/Lm1lc3NhZ2UgOiBhbHRlcm5hdGl2ZVZlc1Jlc3VsdC52YWx1ZT8uZXJyb3JcclxuICAgIHByb3ZpZGVyTm90ZXMucHVzaChgQWx0ZXJuYXRpdmUtVkVTOiBGYWlsZWQgKCR7ZXJyb3J9KWApXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFByb2Nlc3MgQ29sb21iaWFuIFBlc28gcmVzdWx0c1xyXG4gIGlmIChjb2xvbWJpYW5QZXNvUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgY29sb21iaWFuUGVzb1Jlc3VsdC52YWx1ZS5zdWNjZXNzKSB7XHJcbiAgICBPYmplY3QuYXNzaWduKGFsbFJhdGVzLCBjb2xvbWJpYW5QZXNvUmVzdWx0LnZhbHVlLnJhdGVzKVxyXG4gICAgcHJvdmlkZXJOb3Rlcy5wdXNoKGBDb2xvbWJpYW4tUGVzbzogJHtPYmplY3Qua2V5cyhjb2xvbWJpYW5QZXNvUmVzdWx0LnZhbHVlLnJhdGVzKS5sZW5ndGh9IHJhdGVzYClcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgZXJyb3IgPSBjb2xvbWJpYW5QZXNvUmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyA/IGNvbG9tYmlhblBlc29SZXN1bHQucmVhc29uPy5tZXNzYWdlIDogY29sb21iaWFuUGVzb1Jlc3VsdC52YWx1ZT8uZXJyb3JcclxuICAgIHByb3ZpZGVyTm90ZXMucHVzaChgQ29sb21iaWFuLVBlc286IEZhaWxlZCAoJHtlcnJvcn0pYClcclxuICB9XHJcbiAgXHJcbiAgLy8gQWRkIGludmVyc2UgcmF0ZXMgZm9yIGFsbCBkaXJlY3QgcmF0ZXNcclxuICBjb25zdCBkaXJlY3RSYXRlcyA9IHsgLi4uYWxsUmF0ZXMgfVxyXG4gIGZvciAoY29uc3QgW2tleSwgcmF0ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGlyZWN0UmF0ZXMpKSB7XHJcbiAgICBjb25zdCBpbnZlcnNlS2V5ID0gY3JlYXRlUmF0ZUtleShyYXRlLnF1b3RlLCByYXRlLmJhc2UpXHJcbiAgICBpZiAoIWFsbFJhdGVzW2ludmVyc2VLZXldKSB7XHJcbiAgICAgIGFsbFJhdGVzW2ludmVyc2VLZXldID0gZ2V0SW52ZXJzZVJhdGUocmF0ZSlcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gRW5zdXJlIHdlIGFsd2F5cyBoYXZlIGVzc2VudGlhbCByYXRlc1xyXG4gIGNvbnN0IGVzc2VudGlhbFJhdGVzID0gWydVU0QtVkVTJywgJ1VTRC1DT1AnLCAnRVVSLVVTRCddXHJcbiAgY29uc3QgbWlzc2luZ0Vzc2VudGlhbCA9IGVzc2VudGlhbFJhdGVzLmZpbHRlcihyYXRlID0+ICFhbGxSYXRlc1tyYXRlXSlcclxuICBcclxuICBpZiAobWlzc2luZ0Vzc2VudGlhbC5sZW5ndGggPiAwKSB7XHJcbiAgICBwcm92aWRlck5vdGVzLnB1c2goYEFkZGluZyBmYWxsYmFjayByYXRlcyBmb3I6ICR7bWlzc2luZ0Vzc2VudGlhbC5qb2luKCcsICcpfWApXHJcbiAgfVxyXG4gIFxyXG4gIC8vIEFkZCBmYWxsYmFjayByYXRlcyBpZiB3ZSBoYXZlIHZlcnkgZmV3IHJhdGVzXHJcbiAgaWYgKE9iamVjdC5rZXlzKGFsbFJhdGVzKS5sZW5ndGggPCA0KSB7XHJcbiAgICBwcm92aWRlck5vdGVzLnB1c2goJ1VzaW5nIGZhbGxiYWNrIHJhdGVzIGR1ZSB0byBsaW1pdGVkIGRhdGEnKVxyXG4gICAgXHJcbiAgICAvLyBBZGQgc29tZSByZWFzb25hYmxlIGZhbGxiYWNrIHJhdGVzIGZvciB0ZXN0aW5nXHJcbiAgICBpZiAoIWFsbFJhdGVzWydVU0QtVkVTJ10pIHtcclxuICAgICAgYWxsUmF0ZXNbJ1VTRC1WRVMnXSA9IHtcclxuICAgICAgICBiYXNlOiAnVVNEJyxcclxuICAgICAgICBxdW90ZTogJ1ZFUycsXHJcbiAgICAgICAgdmFsdWU6IDE5NS4wLCAvLyBVcGRhdGVkIGFwcHJveGltYXRlIHJhdGUgKE9jdG9iZXIgMjAyNClcclxuICAgICAgICBwcm92aWRlcjogJ0ZhbGxiYWNrJyxcclxuICAgICAgICBhdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1cclxuICAgICAgYWxsUmF0ZXNbJ1ZFUy1VU0QnXSA9IGdldEludmVyc2VSYXRlKGFsbFJhdGVzWydVU0QtVkVTJ10pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYWxsUmF0ZXNbJ1VTRC1DT1AnXSkge1xyXG4gICAgICBhbGxSYXRlc1snVVNELUNPUCddID0ge1xyXG4gICAgICAgIGJhc2U6ICdVU0QnLFxyXG4gICAgICAgIHF1b3RlOiAnQ09QJyxcclxuICAgICAgICB2YWx1ZTogNDIwMC4wLCAvLyBVcGRhdGVkIGFwcHJveGltYXRlIHJhdGUgKE9jdG9iZXIgMjAyNClcclxuICAgICAgICBwcm92aWRlcjogJ0ZhbGxiYWNrJyxcclxuICAgICAgICBhdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1cclxuICAgICAgYWxsUmF0ZXNbJ0NPUC1VU0QnXSA9IGdldEludmVyc2VSYXRlKGFsbFJhdGVzWydVU0QtQ09QJ10pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYWxsUmF0ZXNbJ0VVUi1VU0QnXSkge1xyXG4gICAgICBhbGxSYXRlc1snRVVSLVVTRCddID0ge1xyXG4gICAgICAgIGJhc2U6ICdFVVInLFxyXG4gICAgICAgIHF1b3RlOiAnVVNEJyxcclxuICAgICAgICB2YWx1ZTogMS4wOCwgLy8gQXBwcm94aW1hdGUgcmF0ZSAoT2N0b2JlciAyMDI0KVxyXG4gICAgICAgIHByb3ZpZGVyOiAnRmFsbGJhY2snLFxyXG4gICAgICAgIGF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfVxyXG4gICAgICBhbGxSYXRlc1snVVNELUVVUiddID0gZ2V0SW52ZXJzZVJhdGUoYWxsUmF0ZXNbJ0VVUi1VU0QnXSlcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQ29tcHV0ZSBjcm9zcyByYXRlcyBmb3IgbWlzc2luZyBwYWlyc1xyXG4gIGNvbnN0IHJlcXVpcmVkUGFpcnMgPSBbXHJcbiAgICAnQ09QLVZFUycsICdWRVMtQ09QJ1xyXG4gIF1cclxuICBcclxuICBmb3IgKGNvbnN0IHBhaXIgb2YgcmVxdWlyZWRQYWlycykge1xyXG4gICAgaWYgKCFhbGxSYXRlc1twYWlyXSkge1xyXG4gICAgICBjb25zdCBbYmFzZSwgcXVvdGVdID0gcGFpci5zcGxpdCgnLScpIGFzIFtDdXJyZW5jeSwgQ3VycmVuY3ldXHJcbiAgICAgIFxyXG4gICAgICAvLyBUcnkgQ09QLVZFUyB2aWEgQ09QLVVTRCBhbmQgVVNELVZFU1xyXG4gICAgICBpZiAoYmFzZSA9PT0gJ0NPUCcgJiYgcXVvdGUgPT09ICdWRVMnKSB7XHJcbiAgICAgICAgY29uc3QgY29wVXNkID0gYWxsUmF0ZXNbJ0NPUC1VU0QnXVxyXG4gICAgICAgIGNvbnN0IHVzZFZlcyA9IGFsbFJhdGVzWydVU0QtVkVTJ11cclxuICAgICAgICBcclxuICAgICAgICBpZiAoY29wVXNkICYmIHVzZFZlcykge1xyXG4gICAgICAgICAgY29uc3QgY3Jvc3NSYXRlID0gY29tcHV0ZUNyb3NzUmF0ZShjb3BVc2QsIHVzZFZlcywgJ0NPUCcsICdWRVMnKVxyXG4gICAgICAgICAgaWYgKGNyb3NzUmF0ZSkge1xyXG4gICAgICAgICAgICBhbGxSYXRlc1snQ09QLVZFUyddID0gY3Jvc3NSYXRlXHJcbiAgICAgICAgICAgIGFsbFJhdGVzWydWRVMtQ09QJ10gPSBnZXRJbnZlcnNlUmF0ZShjcm9zc1JhdGUpXHJcbiAgICAgICAgICAgIHByb3ZpZGVyTm90ZXMucHVzaCgnQ09QLVZFUzogQ29tcHV0ZWQgdmlhIENPUC1VU0Qgw5cgVVNELVZFUycpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEVuc3VyZSBFVVIgY3Jvc3MgcGFpcnMgZXhpc3QgZm9yIGRpc3BsYXlcclxuICBpZiAoIWFsbFJhdGVzWydFVVItVkVTJ10pIHtcclxuICAgIGNvbnN0IGV1clVzZCA9IGFsbFJhdGVzWydFVVItVVNEJ11cclxuICAgIGNvbnN0IHVzZFZlcyA9IGFsbFJhdGVzWydVU0QtVkVTJ11cclxuICAgIGlmIChldXJVc2QgJiYgdXNkVmVzKSB7XHJcbiAgICAgIGNvbnN0IGNyb3NzUmF0ZSA9IGNvbXB1dGVDcm9zc1JhdGUoZXVyVXNkLCB1c2RWZXMsICdFVVInLCAnVkVTJylcclxuICAgICAgaWYgKGNyb3NzUmF0ZSkge1xyXG4gICAgICAgIGFsbFJhdGVzWydFVVItVkVTJ10gPSBjcm9zc1JhdGVcclxuICAgICAgICBhbGxSYXRlc1snVkVTLUVVUiddID0gZ2V0SW52ZXJzZVJhdGUoY3Jvc3NSYXRlKVxyXG4gICAgICAgIHByb3ZpZGVyTm90ZXMucHVzaCgnRVVSLVZFUzogQ29tcHV0ZWQgdmlhIEVVUi1VU0Qgw5cgVVNELVZFUycpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghYWxsUmF0ZXNbJ0VVUi1DT1AnXSkge1xyXG4gICAgY29uc3QgZXVyVXNkID0gYWxsUmF0ZXNbJ0VVUi1VU0QnXVxyXG4gICAgY29uc3QgdXNkQ29wID0gYWxsUmF0ZXNbJ1VTRC1DT1AnXVxyXG4gICAgaWYgKGV1clVzZCAmJiB1c2RDb3ApIHtcclxuICAgICAgY29uc3QgY3Jvc3NSYXRlID0gY29tcHV0ZUNyb3NzUmF0ZShldXJVc2QsIHVzZENvcCwgJ0VVUicsICdDT1AnKVxyXG4gICAgICBpZiAoY3Jvc3NSYXRlKSB7XHJcbiAgICAgICAgYWxsUmF0ZXNbJ0VVUi1DT1AnXSA9IGNyb3NzUmF0ZVxyXG4gICAgICAgIGFsbFJhdGVzWydDT1AtRVVSJ10gPSBnZXRJbnZlcnNlUmF0ZShjcm9zc1JhdGUpXHJcbiAgICAgICAgcHJvdmlkZXJOb3Rlcy5wdXNoKCdFVVItQ09QOiBDb21wdXRlZCB2aWEgRVVSLVVTRCDDlyBVU0QtQ09QJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gYWxsUmF0ZXNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnQoXHJcbiAgYW1vdW50OiBudW1iZXIsXHJcbiAgZnJvbTogQ3VycmVuY3ksXHJcbiAgdG86IEN1cnJlbmN5LFxyXG4gIHJhdGVzOiBSYXRlc0J1bmRsZVxyXG4pOiBudW1iZXIgfCBudWxsIHtcclxuICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiBhbW91bnRcclxuICBcclxuICBjb25zdCBkaXJlY3RLZXkgPSBjcmVhdGVSYXRlS2V5KGZyb20sIHRvKVxyXG4gIGNvbnN0IGRpcmVjdFJhdGUgPSByYXRlc1tkaXJlY3RLZXldXHJcbiAgXHJcbiAgaWYgKGRpcmVjdFJhdGUpIHtcclxuICAgIHJldHVybiByb3VuZFRvU2lnbmlmaWNhbnREaWdpdHMoYW1vdW50ICogZGlyZWN0UmF0ZS52YWx1ZSwgOClcclxuICB9XHJcbiAgXHJcbiAgLy8gVHJ5IGNyb3NzIGNvbnZlcnNpb24gdmlhIFVTRCAobW9zdCByZWxpYWJsZSBiYXNlIGN1cnJlbmN5KVxyXG4gIGNvbnN0IGZyb21Vc2RLZXkgPSBjcmVhdGVSYXRlS2V5KGZyb20sICdVU0QnKVxyXG4gIGNvbnN0IHVzZFRvS2V5ID0gY3JlYXRlUmF0ZUtleSgnVVNEJywgdG8pXHJcbiAgXHJcbiAgaWYgKHJhdGVzW2Zyb21Vc2RLZXldICYmIHJhdGVzW3VzZFRvS2V5XSkge1xyXG4gICAgY29uc3QgdmlhVXNkID0gYW1vdW50ICogcmF0ZXNbZnJvbVVzZEtleV0udmFsdWUgKiByYXRlc1t1c2RUb0tleV0udmFsdWVcclxuICAgIHJldHVybiByb3VuZFRvU2lnbmlmaWNhbnREaWdpdHModmlhVXNkLCA4KVxyXG4gIH1cclxuICBcclxuICAvLyBUcnkgY3Jvc3MgY29udmVyc2lvbiB2aWEgRVVSXHJcbiAgY29uc3QgZnJvbUV1cktleSA9IGNyZWF0ZVJhdGVLZXkoZnJvbSwgJ0VVUicpXHJcbiAgY29uc3QgZXVyVG9LZXkgPSBjcmVhdGVSYXRlS2V5KCdFVVInLCB0bylcclxuICBcclxuICBpZiAocmF0ZXNbZnJvbUV1cktleV0gJiYgcmF0ZXNbZXVyVG9LZXldKSB7XHJcbiAgICBjb25zdCB2aWFFdXIgPSBhbW91bnQgKiByYXRlc1tmcm9tRXVyS2V5XS52YWx1ZSAqIHJhdGVzW2V1clRvS2V5XS52YWx1ZVxyXG4gICAgcmV0dXJuIHJvdW5kVG9TaWduaWZpY2FudERpZ2l0cyh2aWFFdXIsIDgpXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFRyeSBjcm9zcyBjb252ZXJzaW9uIHZpYSBDT1AgKGZvciBWRVMtQ09QIHNwZWNpZmljYWxseSlcclxuICBpZiAoZnJvbSA9PT0gJ1ZFUycgJiYgdG8gPT09ICdDT1AnKSB7XHJcbiAgICBjb25zdCB2ZXNVc2RLZXkgPSBjcmVhdGVSYXRlS2V5KCdWRVMnLCAnVVNEJylcclxuICAgIGNvbnN0IHVzZENvcEtleSA9IGNyZWF0ZVJhdGVLZXkoJ1VTRCcsICdDT1AnKVxyXG4gICAgXHJcbiAgICBpZiAocmF0ZXNbdmVzVXNkS2V5XSAmJiByYXRlc1t1c2RDb3BLZXldKSB7XHJcbiAgICAgIGNvbnN0IHZpYVVzZCA9IGFtb3VudCAqIHJhdGVzW3Zlc1VzZEtleV0udmFsdWUgKiByYXRlc1t1c2RDb3BLZXldLnZhbHVlXHJcbiAgICAgIHJldHVybiByb3VuZFRvU2lnbmlmaWNhbnREaWdpdHModmlhVXNkLCA4KVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBpZiAoZnJvbSA9PT0gJ0NPUCcgJiYgdG8gPT09ICdWRVMnKSB7XHJcbiAgICBjb25zdCBjb3BVc2RLZXkgPSBjcmVhdGVSYXRlS2V5KCdDT1AnLCAnVVNEJylcclxuICAgIGNvbnN0IHVzZFZlc0tleSA9IGNyZWF0ZVJhdGVLZXkoJ1VTRCcsICdWRVMnKVxyXG4gICAgXHJcbiAgICBpZiAocmF0ZXNbY29wVXNkS2V5XSAmJiByYXRlc1t1c2RWZXNLZXldKSB7XHJcbiAgICAgIGNvbnN0IHZpYVVzZCA9IGFtb3VudCAqIHJhdGVzW2NvcFVzZEtleV0udmFsdWUgKiByYXRlc1t1c2RWZXNLZXldLnZhbHVlXHJcbiAgICAgIHJldHVybiByb3VuZFRvU2lnbmlmaWNhbnREaWdpdHModmlhVXNkLCA4KVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBUcnkgbXVsdGktaG9wIGNvbnZlcnNpb246IFZFUyAtPiBVU0QgLT4gRVVSIC0+IFRhcmdldFxyXG4gIGlmIChmcm9tID09PSAnVkVTJyAmJiAodG8gPT09ICdFVVInIHx8IHRvID09PSAnQ09QJykpIHtcclxuICAgIGNvbnN0IHZlc1VzZEtleSA9IGNyZWF0ZVJhdGVLZXkoJ1ZFUycsICdVU0QnKVxyXG4gICAgY29uc3QgdXNkRXVyS2V5ID0gY3JlYXRlUmF0ZUtleSgnVVNEJywgJ0VVUicpXHJcbiAgICBjb25zdCBldXJUYXJnZXRLZXkgPSBjcmVhdGVSYXRlS2V5KCdFVVInLCB0bylcclxuICAgIFxyXG4gICAgaWYgKHJhdGVzW3Zlc1VzZEtleV0gJiYgcmF0ZXNbdXNkRXVyS2V5XSAmJiByYXRlc1tldXJUYXJnZXRLZXldKSB7XHJcbiAgICAgIGNvbnN0IHZpYVVzZEV1ciA9IGFtb3VudCAqIHJhdGVzW3Zlc1VzZEtleV0udmFsdWUgKiByYXRlc1t1c2RFdXJLZXldLnZhbHVlICogcmF0ZXNbZXVyVGFyZ2V0S2V5XS52YWx1ZVxyXG4gICAgICByZXR1cm4gcm91bmRUb1NpZ25pZmljYW50RGlnaXRzKHZpYVVzZEV1ciwgOClcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG51bGxcclxufVxyXG4iXSwibmFtZXMiOlsiZ2V0QkNWUmF0ZXMiLCJnZXRGcmFua2Z1cnRlclJhdGVzIiwiZ2V0UHVibGljRnhSYXRlcyIsImdldEFsdGVybmF0aXZlVkVTUmF0ZXMiLCJnZXRDb2xvbWJpYW5QZXNvUmF0ZXMiLCJjcmVhdGVSYXRlS2V5IiwiYmFzZSIsInF1b3RlIiwiZ2V0SW52ZXJzZVJhdGUiLCJyYXRlIiwidmFsdWUiLCJwcm92aWRlciIsImF0Iiwicm91bmRUb1NpZ25pZmljYW50RGlnaXRzIiwiZGlnaXRzIiwibWFnbml0dWRlIiwiTWF0aCIsImZsb29yIiwibG9nMTAiLCJhYnMiLCJmYWN0b3IiLCJwb3ciLCJyb3VuZCIsImNvbXB1dGVDcm9zc1JhdGUiLCJyYXRlMSIsInJhdGUyIiwidGFyZ2V0QmFzZSIsInRhcmdldFF1b3RlIiwiY3Jvc3NWYWx1ZSIsInJvdW5kZWRWYWx1ZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNvbXBvc2VSYXRlcyIsImFsbFJhdGVzIiwicHJvdmlkZXJOb3RlcyIsImJjdlJlc3VsdCIsImZyYW5rZnVydGVyUmVzdWx0IiwicHVibGljRnhSZXN1bHQiLCJhbHRlcm5hdGl2ZVZlc1Jlc3VsdCIsImNvbG9tYmlhblBlc29SZXN1bHQiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsInN0YXR1cyIsInN1Y2Nlc3MiLCJPYmplY3QiLCJhc3NpZ24iLCJyYXRlcyIsInB1c2giLCJrZXlzIiwibGVuZ3RoIiwiZXJyb3IiLCJyZWFzb24iLCJtZXNzYWdlIiwiZGlyZWN0UmF0ZXMiLCJrZXkiLCJlbnRyaWVzIiwiaW52ZXJzZUtleSIsImVzc2VudGlhbFJhdGVzIiwibWlzc2luZ0Vzc2VudGlhbCIsImZpbHRlciIsImpvaW4iLCJyZXF1aXJlZFBhaXJzIiwicGFpciIsInNwbGl0IiwiY29wVXNkIiwidXNkVmVzIiwiY3Jvc3NSYXRlIiwiZXVyVXNkIiwidXNkQ29wIiwiY29udmVydCIsImFtb3VudCIsImZyb20iLCJ0byIsImRpcmVjdEtleSIsImRpcmVjdFJhdGUiLCJmcm9tVXNkS2V5IiwidXNkVG9LZXkiLCJ2aWFVc2QiLCJmcm9tRXVyS2V5IiwiZXVyVG9LZXkiLCJ2aWFFdXIiLCJ2ZXNVc2RLZXkiLCJ1c2RDb3BLZXkiLCJjb3BVc2RLZXkiLCJ1c2RWZXNLZXkiLCJ1c2RFdXJLZXkiLCJldXJUYXJnZXRLZXkiLCJ2aWFVc2RFdXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/rates/compose.ts\n"));

/***/ })

});